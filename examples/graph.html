<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Graph on a Canvas</title>
<style><!--

--></style>
<!--[if IE]><script type="text/javascript" src="../js/excanvas.compiled.js"></script><![endif]-->

<link type="text/css" href="default.css" rel="stylesheet" />
<link type="text/css" href="../css/ui-lightness/jquery-ui-1.8.4.custom.css" rel="stylesheet" />	
<script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../js/jquery-ui-1.8.4.custom.min.js"></script>

<script type="text/javascript" src="../src/default-display.js"></script>
<script type="text/javascript" src="../src/default-layout.js"></script>
<script type="text/javascript" src="../src/default-theme.js"></script>
<script type="text/javascript" src="../src/force-layout.js"></script>
<script type="text/javascript" src="../src/circular-layout.js"></script>
<script type="text/javascript" src="../src/graph.js"></script>
<script type="text/javascript" src="../src/node.js"></script>
<script type="text/javascript" src="../src/util.js"></script>

</head>

<body>

<h1>Canvas Based Graph Visualization</h1>

<canvas id="myGraph" width="900" height="450"></canvas>

<iframe id="myView" width="900" height="200"></iframe>

<div id="controls">

<form>
	<fieldset>
      <label for="layout">Layout</label>
      <select id="layout" name="layout">
      <option value="default">Tile Based</option>
      <option value="force-layout">Force Directed</option>
      <option value="circular-layout">Circular</option>
      </select>
      <input type="button" value="Start/Stop" onclick="toggle()" />
      <input type="button" value="Save Image" onclick="saveCanvas()" />
      <ul class="compact">
	      <li>      
		      <label for="zoom">Zoom</label>
		      <input id="zoom" type="text">
		      <div id="zoomSlider" class="slider"></div>
	      </li>	      	
		  <li>      
		      <label for="size">Size</label>
		      <input id="size" type="text">
		      <div id="sizeSlider" class="slider"></div>
	      </li>
		  <li>      
		      <label for="depth">Depth</label>
		      <input id="depth" type="text">
		      <div id="depthSlider" class="slider"></div>
	      </li>
      </ul>
      	
    </fieldset>
    <fieldset id="forceLayoutParameters">
      <ul class="compact">

		<li>
	      <label for="repulsiveForce">Repulsion</label>
	      <input id="repulsiveForce" name="repulsiveForce" type="text">
	      <div id="repulsiveForceSlider" class="slider"></div>
		</li>
		
		<li>
	      <label for="attractiveForce">Attraction</label>
	      <input id="attractiveForce" type="text">
	      <div id="attractiveForceSlider" class="slider"></div>
		</li>
		
		<li>
	      <label for="attractiveEquilibrium">Equilibrium</label>
	      <input id="attractiveEquilibrium" type="text">
	      <div id="attractiveEquilibriumSlider" class="slider"></div>
		</li>
		      
      </ul>
    </fieldset>
  
</form>
</div>

<h2>Basic Controls</h2>
<ul class="tips">
<li class="done">Double click the graph drawing area to start/stop automatic layout.</li> 
<li class="done">Use your mousewheel to zoom in and out</li>
<li class="done">Click and drag a node to move it, this will also make it temporarily immune to layout forces.</li>
<li class="done">Click and drag the background to pan</li>
<li class="done">Double click a node to show/hide it's children.</li> 
</ul>

<script type="text/javascript" src="data.js"></script>
<script type="text/javascript" src="controls.js"></script>

<script  type="text/javascript"><!--

var star = new Image();
star.src = "star.png";

var bang = new Image();
bang.src = "exclamation.png";

g.nodes.foo.style = Style.Brown;
g.nodes.foo.image = star;

g.nodes.phee.style = Style.Brown;
g.nodes.phee.image = bang;

g.nodes.a1.style = Style.Blue;
g.nodes.b1.style = Style.Blue;

g.onNodeSelect(function (node) {
  changeViewer(node);
});

g.onNodeHovered = function (node) {
//	console.log(node);
}

// Once the initial layout is done... switch to something fancy.
g.layout = new DefaultLayout(g);
g.applyLayout();
g.display.lookAt(g.nodes.foo);
g.display.setSelection(g.nodes.foo);




function saveCanvas() {
	g.save();
}

--></script>
</body>
</html>